# RBS to Diagram


## プロジェクト概要

このプロジェクトは、RubyのRBS（Ruby Signature）ファイルを解析して、Mermaid.js形式の図を自動生成するCLIツールです。RBSファイルに定義された型情報、クラス構造、モジュール関係を視覚的な図として出力することで、Rubyプロジェクトの設計理解とドキュメント作成を支援します。

## 基本機能

### 1. RBSファイル解析機能
指定されたRBSファイルまたはディレクトリを解析し、クラス、モジュール、メソッド、型定義などの構造情報を抽出します。RBSの構文を正確にパースし、型情報や継承関係、インクルード・エクステンド関係を識別して内部データ構造として保持します。

### 2. MermaidJSファイル出力機能
解析したRBS情報をMermaid.js形式の図として出力します。クラス図やモジュール依存関係図を生成し、指定されたファイルパスに保存するか、標準出力に表示します。出力される図は、RBSで定義された構造を視覚的に理解しやすい形で表現します。

## 主要クラス

### RBSToDiagram
- 責務: アプリケーションのエントリーポイント
- 振る舞い: ファイル入出力の管理、Parser・Formatterの協調制御

### Parser
- 責務: RBSファイルの解析処理を統括する
- 振る舞い: ファイル読み込み、バリデーション、RBSSignatureAnalyzerとの協調

### Parser::Result
- 責務: RBS解析結果を集約するデータクラス
- 振る舞い: 定義情報の管理、クラス・モジュール定義の分類提供

### RBSSignatureAnalyzer
- 責務: RBSの構文解析とデータ抽出
- 振る舞い: RBS::Parserとの連携、クラス・モジュール・メソッド情報の抽出

### Formatter
- 責務: 解析結果の出力形式変換を統括する
- 振る舞い: JSONフォーマッターとの協調制御
